(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0747":function(e,t,n){e.exports=n.p+"static/img/UserImg.7ca3a56e.jpg"},"0ffc":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* 语音输入按钮样式 */.record-button[data-v-0eb6ce92]{background:#3b82f6;color:#fff;border-radius:50%;padding:8px;width:44px;height:44px;font-size:28px;-webkit-transition:all .3s;transition:all .3s;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;&.recording{background:#ef4444;-webkit-animation:pulse-data-v-0eb6ce92 1s infinite;animation:pulse-data-v-0eb6ce92 1s infinite}}@-webkit-keyframes pulse-data-v-0eb6ce92{0%,\r\n  100%{opacity:1}50%{opacity:.5}}.ai-questions[data-v-0eb6ce92]{gap:8px;uni-button{-webkit-flex-shrink:0;flex-shrink:0}}\r\n/* 新增样式 */.stream-status[data-v-0eb6ce92]{font-size:12px;color:#3b82f6;margin-left:10px;-webkit-animation:pulse-data-v-0eb6ce92 1s infinite;animation:pulse-data-v-0eb6ce92 1s infinite}.error-message[data-v-0eb6ce92]{color:#ef4444;padding:8px;border:1px solid #fecaca;border-radius:4px;margin:10px 0;background:#fef2f2}.typing-cursor[data-v-0eb6ce92]{color:#3b82f6;-webkit-animation:blink-data-v-0eb6ce92 1s step-end infinite;animation:blink-data-v-0eb6ce92 1s step-end infinite}.loading[data-v-0eb6ce92]{background:#94a3b8!important;cursor:not-allowed}@-webkit-keyframes blink-data-v-0eb6ce92{50%{opacity:0}}@keyframes pulse-data-v-0eb6ce92{0%,\r\n  100%{opacity:1}50%{opacity:.5}}.mobile-frame[data-v-0eb6ce92]{position:relative;width:100%;padding-top:177.78%;\r\n  /* 9:16比例 (9/16=56.25%) */max-width:375px;\r\n  /* 移动端标准宽度 */margin:0 auto;\r\n  /* 水平居中 */overflow:hidden;box-shadow:0 0 20px rgba(0,0,0,.1);\r\n  /* 模拟手机边框 */border-radius:20px}.mobile-frame iframe[data-v-0eb6ce92]{position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform-origin:top left;transform-origin:top left;-webkit-transform:scale(1);transform:scale(1)\r\n  /* 可调整缩放比例 */}\r\n/* Try Anime Styles */.typing-container[data-v-0eb6ce92]{font-family:Courier New,monospace;margin:2rem auto;margin-bottom:1rem;position:relative;width:-webkit-fit-content;width:fit-content;max-width:100%}.typing-effect[data-v-0eb6ce92]{\r\n  /* 修正动画参数与显示方式 */display:inline-block;font-size:16px;width:100%;white-space:nowrap;overflow:hidden;border-right:2px solid #3b82f6;-webkit-animation:typing-data-v-0eb6ce92 3s steps(30) forwards,blink-caret-data-v-0eb6ce92 .8s step-end infinite;animation:typing-data-v-0eb6ce92 3s steps(30) forwards,blink-caret-data-v-0eb6ce92 .8s step-end infinite}@-webkit-keyframes typing-data-v-0eb6ce92{from{width:0}to{width:100%}\r\n\r\n  /* 保持最终状态可见 */}@keyframes typing-data-v-0eb6ce92{from{width:0}to{width:100%}\r\n\r\n  /* 保持最终状态可见 */}@-webkit-keyframes blink-caret-data-v-0eb6ce92{from,\r\n  to{border-color:transparent}50%{border-color:#2c3e50}}@keyframes blink-caret-data-v-0eb6ce92{from,\r\n  to{border-color:transparent}50%{border-color:#2c3e50}}\r\n/* 增加移动端响应式适配 */@media (max-width:480px){.typing-effect[data-v-0eb6ce92]{font-size:14px;-webkit-animation:typing-data-v-0eb6ce92 2.5s steps(25) forwards,blink-caret-data-v-0eb6ce92 .8s step-end infinite;animation:typing-data-v-0eb6ce92 2.5s steps(25) forwards,blink-caret-data-v-0eb6ce92 .8s step-end infinite}}\r\n/* General Styles */.container[data-v-0eb6ce92]{padding:20px;max-width:768px;margin:0 auto;background-color:#f8fafc;min-height:100vh}.title[data-v-0eb6ce92]{font-size:24px;font-weight:700;margin-bottom:20px;color:#1e293b;text-align:center}\r\n/* Panel Styles */.panel[data-v-0eb6ce92]{border:1px solid #e2e8f0;border-radius:12px;box-shadow:0 10px 25px -5px rgba(0,0,0,.1);background-color:#fff;overflow:hidden}.panel-header[data-v-0eb6ce92]{background-color:#1e40af;color:#fff;padding:20px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.panel-title[data-v-0eb6ce92]{font-weight:600;font-size:18px}.panel-content[data-v-0eb6ce92]{padding:20px}\r\n/* Status Styles */.status-container[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:hsla(0,0%,100%,.1);padding:6px 12px;border-radius:20px}.status-label[data-v-0eb6ce92]{font-size:14px;margin-right:8px;opacity:.9}.status-alert[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#fecaca}.status-normal[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#86efac}.status-dot[data-v-0eb6ce92]{height:10px;width:10px;border-radius:50%;background-color:#4ade80;margin-right:6px;box-shadow:0 0 8px #4ade80}\r\n/* Tab Styles */.ai-card[data-v-0eb6ce92]{border:1px solid #e2e8f0;border-radius:12px;padding:20px;background-color:#fff;box-shadow:0 4px 6px -1px rgba(0,0,0,.05);-webkit-transition:box-shadow .2s ease,-webkit-transform .2s ease;transition:box-shadow .2s ease,-webkit-transform .2s ease;transition:transform .2s ease,box-shadow .2s ease;transition:transform .2s ease,box-shadow .2s ease,-webkit-transform .2s ease}.ai-title[data-v-0eb6ce92]{font-weight:600;color:#334155;font-size:16px}.ai-questions[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;gap:10px}.ai-questions uni-input[data-v-0eb6ce92]{padding:10px;\r\n  /* 增加内边距 */border-bottom:1px dashed #95a5a6;width:70%;-webkit-border-image:-webkit-linear-gradient(left,#3498db,#e74c3c);border-image:linear-gradient(90deg,#3498db,#e74c3c);border-image-slice:1;border-width:0 0 2px 0;-webkit-transition:all .3s;transition:all .3s}.ai-questions uni-input[data-v-0eb6ce92]::-webkit-input-placeholder{color:#999;\r\n  /* 灰色占位符 */font-weight:300;\r\n  /* 细体 */font-size:14px\r\n  /* 适当字号 */}.ai-questions uni-input[data-v-0eb6ce92]::placeholder{color:#999;\r\n  /* 灰色占位符 */font-weight:300;\r\n  /* 细体 */font-size:14px\r\n  /* 适当字号 */}\r\n/* 聚焦状态优化 */.ai-questions uni-input[data-v-0eb6ce92]:focus::-webkit-input-placeholder{opacity:.6;\r\n  /* 聚焦时透明度变化 */-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.ai-questions uni-input[data-v-0eb6ce92]:focus::placeholder{opacity:.6;\r\n  /* 聚焦时透明度变化 */-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.ai-questions uni-button[data-v-0eb6ce92]{border-radius:22px;\r\n  /* 常规圆角 */padding:.3rem 1rem;font-size:.6rem;font-weight:700;white-space:nowrap;\r\n  /* 防止文字折行 */background:#3b82f6;color:#fff;cursor:pointer;-webkit-transition:background .3s ease;transition:background .3s ease}.ai-questions uni-button[data-v-0eb6ce92]:active{background:#93c5fd;\r\n  /* 淡蓝色 */-webkit-transform:scale(.98);transform:scale(.98)\r\n  /* 按压效果 */}.ai-responses[data-v-0eb6ce92]{width:90%;height:200px;padding:15px;background:#f8fafc;border-radius:8px;line-height:1.6;white-space:pre-wrap\r\n  /* 保留换行 */}.ai-text[data-v-0eb6ce92]{font-size:14px;font-weight:300;\r\n  /* 细体 */color:#334155}.ai-reply[data-v-0eb6ce92]{width:90%;padding:15px}.tabs[data-v-0eb6ce92]{border:1px solid #e2e8f0;border-radius:10px;margin-bottom:20px;overflow:hidden;box-shadow:0 2px 5px rgba(0,0,0,.05)}.tab-buttons[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;background-color:#f8fafc}.tab-button[data-v-0eb6ce92]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:12px 8px;text-align:center;position:relative;-webkit-transition:all .3s ease;transition:all .3s ease;border-bottom:3px solid transparent}.tab-text[data-v-0eb6ce92]{font-weight:600;font-size:15px;color:#64748b}.tab-active[data-v-0eb6ce92]{background-color:#fff;border-bottom:3px solid #3b82f6}.tab-active .tab-text[data-v-0eb6ce92]{color:#3b82f6}.tab-content[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;gap:20px}\r\n/* Sensor Styles */.sensor-grid[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;gap:15px}@media (min-width:768px){.sensor-grid[data-v-0eb6ce92]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.sensor-grid > .sensor-card[data-v-0eb6ce92]{-webkit-box-flex:1;-webkit-flex:1;flex:1}}.sensor-card[data-v-0eb6ce92],\r\n.weather-card[data-v-0eb6ce92]{border:1px solid #e2e8f0;border-radius:12px;padding:15px;background-color:#fff;box-shadow:0 4px 6px -1px rgba(0,0,0,.05);-webkit-transition:box-shadow .2s ease,-webkit-transform .2s ease;transition:box-shadow .2s ease,-webkit-transform .2s ease;transition:transform .2s ease,box-shadow .2s ease;transition:transform .2s ease,box-shadow .2s ease,-webkit-transform .2s ease}.weather-card[data-v-0eb6ce92]{background:-webkit-linear-gradient(315deg,#f5f7fa,#c3cfe2);background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.weather-card.sunny[data-v-0eb6ce92]{background:-webkit-linear-gradient(315deg,#e0f2fe,#bae6fd);background:linear-gradient(135deg,#e0f2fe,#bae6fd)}.weather-card.cloudy[data-v-0eb6ce92]{background:-webkit-linear-gradient(315deg,#f5f7fa,#c3cfe2);background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.weather-content[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:10px}.weather-temp[data-v-0eb6ce92]{font-size:38px;font-weight:700;color:#1e293b}.weather-desc[data-v-0eb6ce92]{font-size:14px;color:#475569;margin-top:4px}.sensor-card[data-v-0eb6ce92]:active{-webkit-transform:translateY(2px);transform:translateY(2px);box-shadow:0 2px 4px -1px rgba(0,0,0,.05)}.sensor-container[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\r\n  /* 改为横向排列 */gap:15px;width:100%\r\n  /* 确保占满父容器 */}.sensor-left[data-v-0eb6ce92],\r\n.sensor-right[data-v-0eb6ce92]{-webkit-box-flex:1;-webkit-flex:1;flex:1;min-width:0}.sensor-header[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:12px}.sensor-header-left[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;gap:8px}.sensor-status-container[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;gap:4px;margin-left:auto\r\n  /* 确保状态靠右对齐 */}.sensor-title[data-v-0eb6ce92]{font-weight:600;color:#334155;font-size:16px}.sensor-value[data-v-0eb6ce92]{font-size:25px;font-weight:800;color:#1e293b;margin-bottom:4px}.sensor-accuracy[data-v-0eb6ce92]{font-size:12px;color:#94a3b8;margin-bottom:12px}.fire-modify[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;position:relative;left:53%}.sensor-status[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:right;-webkit-align-items:right;align-items:right}\r\n/* Progress Bar Styles */.progress-bar[data-v-0eb6ce92]{height:10px;background-color:#f1f5f9;border-radius:9999px;margin-top:8px;overflow:hidden}.progress-fill[data-v-0eb6ce92]{height:100%;border-radius:9999px;-webkit-transition:width .5s ease;transition:width .5s ease}.temp-gradient[data-v-0eb6ce92]{background:-webkit-linear-gradient(left,#3b82f6,#ef4444);background:linear-gradient(90deg,#3b82f6,#ef4444)}.humidity-fill[data-v-0eb6ce92]{background-color:#3b82f6}.gas-safe[data-v-0eb6ce92]{background-color:#22c55e}.gas-warning[data-v-0eb6ce92]{background-color:#eab308}.gas-danger[data-v-0eb6ce92]{background-color:#ef4444}\r\n/* Control Styles */.control-card[data-v-0eb6ce92]{border:1px solid #e2e8f0;border-radius:12px;padding:20px;margin-bottom:20px;background-color:#fff;box-shadow:0 4px 6px -1px rgba(0,0,0,.05)}.control-header[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:1rem;margin-bottom:12px}.control-title[data-v-0eb6ce92]{font-weight:600;color:#334155;font-size:16px}.control-status[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:8px;font-size:15px;color:#475569}.control-range[data-v-0eb6ce92]{font-size:12px;color:#94a3b8;margin-bottom:12px}.slider[data-v-0eb6ce92]{width:100%;margin:20px 0;height:40px}.preset-buttons[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;gap:10px;margin-bottom:1.5rem}.preset-button[data-v-0eb6ce92]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:10px 12px;font-size:14px;border:1px solid #e2e8f0;border-radius:8px;background-color:#f8fafc;text-align:center;-webkit-transition:all .2s ease;transition:all .2s ease}.preset-button[data-v-0eb6ce92]:active{background-color:#e2e8f0;-webkit-transform:translateY(1px);transform:translateY(1px)}.alarm-buttons[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:20px;gap:8px}.mode-button[data-v-0eb6ce92]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:10px 8px;font-size:14px;border:1px solid #e2e8f0;border-radius:8px;background-color:#f8fafc;text-align:center;-webkit-transition:all .2s ease;transition:all .2s ease}.mode-button[data-v-0eb6ce92]:active{background-color:#e2e8f0;-webkit-transform:translateY(1px);transform:translateY(1px)}.mode-active[data-v-0eb6ce92]{background-color:#1e40af;color:#fff;border:none}.test-button[data-v-0eb6ce92]{width:90%;padding:12px;font-size:15px;border-radius:8px;border:1px solid #e2e8f0;background-color:#f8fafc;text-align:center;-webkit-transition:all .2s ease;transition:all .2s ease}.test-button[data-v-0eb6ce92]:active{background-color:#e2e8f0;-webkit-transform:translateY(1px);transform:translateY(1px)}.alarm-active[data-v-0eb6ce92]{background-color:#ef4444;color:#fff;border:none}\r\n/* Display Styles */.display-card[data-v-0eb6ce92]{border:1px solid #e2e8f0;border-radius:12px;padding:20px;background-color:#fff;box-shadow:0 4px 6px -1px rgba(0,0,0,.05)}.display-header[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:12px}.display-title[data-v-0eb6ce92]{font-weight:600;color:#334155;font-size:16px}.oled-display[data-v-0eb6ce92]{background-color:#000;color:#4ade80;font-family:monospace;padding:20px;border-radius:10px;height:280px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;box-shadow:inset 0 0 10px rgba(0,255,0,.2),0 0 20px rgba(0,0,0,.2)}.oled-header[data-v-0eb6ce92]{text-align:center;border-bottom:1px solid #22c55e;padding-bottom:8px;margin-bottom:12px;font-weight:700;letter-spacing:1px}.oled-grid[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:12px;gap:20px}.oled-column[data-v-0eb6ce92]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.oled-row[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:4px}.oled-progress[data-v-0eb6ce92]{width:100%;background-color:#064e3b;height:4px;margin-top:4px;margin-bottom:12px;border-radius:2px;overflow:hidden}.oled-progress-fill[data-v-0eb6ce92]{height:100%;background-color:#22c55e;-webkit-transition:width .5s ease;transition:width .5s ease}.oled-status[data-v-0eb6ce92]{margin-top:12px;font-size:12px}.oled-footer[data-v-0eb6ce92]{margin-top:auto;text-align:center;font-size:12px;border-top:1px solid #22c55e;padding-top:8px;letter-spacing:.5px}.oled-alert[data-v-0eb6ce92]{color:#f87171;-webkit-animation:blink-data-v-0eb6ce92 1s infinite;animation:blink-data-v-0eb6ce92 1s infinite}@keyframes blink-data-v-0eb6ce92{0%,\r\n  100%{opacity:1}50%{opacity:.5}}\r\n/* Icon Styles */.icon-text[data-v-0eb6ce92]{font-size:20px;margin-right:10px}.temp-icon[data-v-0eb6ce92]{color:#ef4444}.humidity-icon[data-v-0eb6ce92]{color:#3b82f6}.gas-icon[data-v-0eb6ce92]{color:#eab308}.fan-icon[data-v-0eb6ce92]{color:#6b7280}.display-icon[data-v-0eb6ce92]{color:#3b82f6}.alarm-on-icon[data-v-0eb6ce92]{color:#ef4444}.alarm-off-icon[data-v-0eb6ce92]{color:#6b7280}\r\n/* Status Text Colors */.status-text[data-v-0eb6ce92]{font-weight:600}.status-safe[data-v-0eb6ce92]{color:#22c55e}.status-normal[data-v-0eb6ce92]{color:#3b82f6}.status-elevated[data-v-0eb6ce92]{color:#eab308}.status-high[data-v-0eb6ce92]{color:#f97316}.status-danger[data-v-0eb6ce92]{color:#ef4444}.status-active[data-v-0eb6ce92]{color:#22c55e;font-weight:600}.status-inactive[data-v-0eb6ce92]{color:#94a3b8}.status-alarm[data-v-0eb6ce92]{color:#ef4444;font-weight:600}.user-center-card[data-v-0eb6ce92]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,.1)}.avatar-container[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin:20px 0}.avatar[data-v-0eb6ce92]{width:80px;height:80px;border-radius:50%;border:2px solid #3b82f6}.username[data-v-0eb6ce92]{font-size:20px;font-weight:700;color:#1e293b;margin-bottom:15px;display:block;text-align:center}.function-list[data-v-0eb6ce92]{margin-top:20px}.list-item[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:15px;border-bottom:1px solid #eee}.item-icon[data-v-0eb6ce92]{font-size:20px;margin-right:10px}.item-text[data-v-0eb6ce92]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:16px;color:#333}.item-arrow[data-v-0eb6ce92]{font-size:24px;color:#999}\r\n/* 密码对话框样式 */.password-dialog[data-v-0eb6ce92]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.dialog-content[data-v-0eb6ce92]{background:#fff;padding:20px;border-radius:10px;width:80%}.dialog-title[data-v-0eb6ce92]{font-size:18px;font-weight:700;margin-bottom:15px;display:block}.dialog-content uni-input[data-v-0eb6ce92]{border:1px solid #ddd;padding:10px;margin-bottom:10px;border-radius:5px}.dialog-buttons[data-v-0eb6ce92]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;margin-top:15px}.confirm-btn[data-v-0eb6ce92]{background:#3b82f6;color:#fff;margin-left:10px;padding:8px 20px}.cancel-btn[data-v-0eb6ce92]{background:#eee;color:#666;padding:8px 20px}",""]),e.exports=t},"412e":function(e,t,n){var r=n("0ffc");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("1fbc3609",r,!0,{sourceMap:!1,shadowMode:!1})},"96cf":function(e,t){!function(t){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",l="object"===typeof e,d=t.regeneratorRuntime;if(d)l&&(e.exports=d);else{d=t.regeneratorRuntime=l?e.exports:{},d.wrap=m;var u="suspendedStart",b="suspendedYield",p="executing",f="completed",v={},x={};x[o]=function(){return this};var w=Object.getPrototypeOf,g=w&&w(w(P([])));g&&g!==r&&a.call(g,o)&&(x=g);var h=_.prototype=y.prototype=Object.create(x);C.prototype=h.constructor=_,_.constructor=C,_[c]=C.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(h),e},d.awrap=function(e){return{__await:e}},S(T.prototype),T.prototype[s]=function(){return this},d.AsyncIterator=T,d.async=function(e,t,n,r){var a=new T(m(e,t,n,r));return d.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(h),h[c]="Generator",h[o]=function(){return this},h.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},d.values=P,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;R(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function m(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),o=new M(r||[]);return i._invoke=E(e,n,o),i}function k(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function y(){}function C(){}function _(){}function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){function t(n,r,i,o){var s=k(e[n],e,r);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===typeof l&&a.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return t("throw",e,i,o)}))}o(s.arg)}var n;function r(e,r){function a(){return new Promise((function(n,a){t(e,r,n,a)}))}return n=n?n.then(a,a):a()}this._invoke=r}function E(e,t,n){var r=u;return function(a,i){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===a)throw i;return z()}n.method=a,n.arg=i;while(1){var o=n.delegate;if(o){var s=j(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=k(e,t,n);if("normal"===c.type){if(r=n.done?f:b,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}function j(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,j(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=k(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,v;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){while(++r<e.length)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:z}}function z(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},b585:function(e,t,n){"use strict";var r=n("412e"),a=n.n(r);a.a},b80c:function(e,t,n){"use strict";var r,a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"container"},[r("v-uni-view",{staticClass:"title"},[e._v("环境监测系统")]),r("v-uni-view",{staticClass:"panel"},[r("v-uni-view",{staticClass:"panel-header"},[r("v-uni-text",{staticClass:"panel-title"},[e._v("环境监测面板")]),r("v-uni-view",{staticClass:"status-container"},[r("v-uni-text",{staticClass:"status-label"},[e._v("Status:")]),e.alarmActive?r("v-uni-view",{staticClass:"status-alert"},[r("v-uni-text",{staticClass:"icon-text"},[e._v("⚠️")]),r("v-uni-text",[e._v("警告")])],1):r("v-uni-view",{staticClass:"status-normal"},[r("v-uni-view",{staticClass:"status-dot"}),r("v-uni-text",[e._v("正常")])],1)],1)],1),r("v-uni-view",{staticClass:"panel-content"},[r("v-uni-view",{staticClass:"tabs"},[r("v-uni-view",{staticClass:"tab-buttons"},e._l(e.tabs,(function(t,n){return r("v-uni-view",{key:n,class:["tab-button",e.activeTab===t.value?"tab-active":""],on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.switchTab(t.value)}}},[r("v-uni-text",{staticClass:"tab-text"},[e._v(e._s(t.label))])],1)})),1)],1),"sensors"===e.activeTab?r("v-uni-view",{staticClass:"tab-content"},[r("v-uni-view",{staticClass:"sensor-grid"},[r("v-uni-view",{staticClass:"weather-card",class:"00"===e.wp_code?"sunny":"cloudy"},[r("v-uni-view",{staticClass:"sensor-header"},[r("v-uni-text",{staticClass:"icon-text"},[e._v(e._s(e.weatherIcon))]),r("v-uni-text",{staticClass:"sensor-title"},[e._v("户外天气")])],1),r("v-uni-view",{staticClass:"weather-content"},[r("v-uni-text",{staticClass:"weather-temp"},[e._v(e._s(e.wea_temperature)+"°C")]),r("v-uni-text",{staticClass:"weather-desc"},[e._v(e._s(e.weatherDescription))])],1)],1),r("v-uni-view",{staticClass:"sensor-container"},[r("v-uni-view",{staticClass:"sensor-card sensor-left"},[r("v-uni-view",{staticClass:"sensor-header"},[r("v-uni-text",{staticClass:"icon-text temp-icon"},[e._v("🌡️")]),r("v-uni-text",{staticClass:"sensor-title"},[e._v("温度")])],1),r("v-uni-text",{staticClass:"sensor-value"},[e._v(e._s(e.temperature)+"°C")])],1),r("v-uni-view",{staticClass:"sensor-card sensor-right"},[r("v-uni-view",{staticClass:"sensor-header"},[r("v-uni-text",{staticClass:"icon-text humidity-icon"},[e._v("💧")]),r("v-uni-text",{staticClass:"sensor-title"},[e._v("湿度")])],1),r("v-uni-text",{staticClass:"sensor-value"},[e._v(e._s(e.humidity)+"%")])],1)],1),r("v-uni-view",{staticClass:"sensor-card"},[r("v-uni-view",{staticClass:"sensor-header"},[r("v-uni-text",{staticClass:"icon-text temp-icon"},[e._v("🔥")]),r("v-uni-text",{staticClass:"sensor-title"},[e._v("火灾预警")]),r("v-uni-text",{class:"fire-modify status-text "+e.fireStatus.cssClass},[e._v(e._s(e.fireStatus.status))])],1)],1)],1),r("v-uni-view",{staticClass:"sensor-card"},[r("v-uni-view",{staticClass:"sensor-header"},[r("v-uni-text",{staticClass:"icon-text gas-icon"},[e._v("⚠️")]),r("v-uni-text",{staticClass:"sensor-title"},[e._v("有害气体浓度 (CO/VOC)")])],1),r("v-uni-view",{staticClass:"sensor-status"},[r("v-uni-text",{staticClass:"sensor-value"},[e._v(e._s(e.gasLevel)+" ppm")]),r("v-uni-text",{class:"status-text "+e.gasStatus.cssClass},[e._v(e._s(e.gasStatus.status))])],1),r("v-uni-text",{staticClass:"sensor-accuracy"},[e._v("范围: 0-1000ppm")]),r("v-uni-view",{staticClass:"progress-bar"},[r("v-uni-view",{class:"progress-fill "+(e.gasLevel<400?"gas-safe":e.gasLevel<700?"gas-warning":"gas-danger"),style:{width:e.gasLevel/1e3*100+"%"}})],1)],1)],1):e._e(),"controls"===e.activeTab?r("v-uni-view",{staticClass:"tab-content"},[r("v-uni-view",{staticClass:"control-card"},[r("v-uni-view",{staticClass:"control-header"},[r("v-uni-text",{staticClass:"icon-text fan-icon"},[e._v("🌀")]),r("v-uni-text",{staticClass:"control-title"},[e._v("风扇控制")])],1),r("v-uni-view",{staticClass:"control-status"},[r("v-uni-text",[e._v("转速档位: "+e._s(e.fanSpeed))]),r("v-uni-text",{class:e.fanSpeed>0?"status-active":"status-inactive"},[e._v(e._s(e.fanSpeed>0?"Active":"Inactive"))])],1),r("v-uni-text",{staticClass:"control-range"},[e._v("范围: 0-3 档")]),r("v-uni-view",{staticClass:"control-header"},[r("v-uni-text",{staticClass:"icon-text",class:e.alarmMode>0?"alarm-on-icon":"alarm-off-icon"},[e._v(e._s(e.alarmMode>0?"🔊":"🔇"))]),r("v-uni-text",{staticClass:"control-title"},[e._v("蜂鸣器警报")])],1),r("v-uni-view",{staticClass:"control-status"},[r("v-uni-text",[e._v("模式: "+e._s(e.alarmModes[e.alarmMode]))]),r("v-uni-text",{class:e.alarmMode>0?"status-alarm":"status-inactive"},[e._v(e._s(e.alarmMode>0?"注意":"安静"))])],1),r("v-uni-slider",{staticClass:"slider",attrs:{value:e.fanSpeed,min:0,max:3,step:1,activeColor:"#3b82f6",backgroundColor:"#e5e7eb","block-size":"24","show-value":!0},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onFanSliderChange.apply(void 0,arguments)}}}),r("v-uni-view",{staticClass:"preset-buttons"},e._l(e.fanPresets,(function(t,n){return r("v-uni-view",{key:n,staticClass:"preset-button",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.fanSpeed=t.value}}},[r("v-uni-text",[e._v(e._s(t.label))])],1)})),1),r("v-uni-view",{class:["test-button"],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleTest.apply(void 0,arguments)}}},[r("v-uni-text",[e._v("测试")])],1)],1)],1):e._e(),"ai"===e.activeTab?r("v-uni-view",{staticClass:"tab-content"},[r("v-uni-view",{staticClass:"ai-header"},[r("v-uni-text",{staticClass:"icon-text ai-icon"},[e._v("🤖")]),r("v-uni-text",{staticClass:"ai-title"},[e._v("气象小笨蛋")]),e.isStreaming?r("v-uni-text",{staticClass:"stream-status"},[e._v("接收中...")]):e._e()],1),e.errorMessage?r("v-uni-view",{staticClass:"error-message"},[e._v(e._s(e.errorMessage))]):e._e(),r("v-uni-scroll-view",{staticClass:"ai-responses",attrs:{"scroll-y":!0,"scroll-into-view":"lastMsg","scroll-with-animation":!0}},[r("v-uni-text",{staticClass:"ai-text"},[e._v(e._s(e.reaContent)),e.isStreaming?r("v-uni-text",{staticClass:"typing-cursor"},[e._v("|")]):e._e()],1),r("v-uni-view",{attrs:{id:"lastMsg"}})],1),r("v-uni-view",{staticClass:"ai-reply"},[r("v-uni-text",{staticClass:"ai-text"},[e._v(e._s(e.replyContent))])],1),r("v-uni-view",{staticClass:"ai-questions"},[r("v-uni-button",{class:["record-button",e.isRecording?"recording":""],attrs:{title:"语音输入"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleRecording.apply(void 0,arguments)}}},[e._v(e._s(e.isRecording?"🛑":"🎙️"))]),r("v-uni-input",{attrs:{type:"text",placeholder:"请输入你的问题",disabled:e.isStreaming},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;arguments[0]=t=e.$handleEvent(t),e.handleChat.apply(void 0,arguments)}},model:{value:e.userMessage,callback:function(t){e.userMessage=t},expression:"userMessage"}}),r("v-uni-button",{class:{loading:e.isStreaming},attrs:{disabled:e.isStreaming||!e.userMessage.trim()},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleChat.apply(void 0,arguments)}}},[e._v(e._s(e.isStreaming?"传输中...":"发送"))])],1)],1):e._e(),"display"===e.activeTab?r("v-uni-view",{staticClass:"tab-content"},[r("v-uni-view",{staticClass:"user-center-card"},[r("v-uni-view",{staticClass:"avatar-container"},[r("v-uni-image",{staticClass:"avatar",attrs:{src:n("0747"),mode:"aspectFill"}})],1),r("v-uni-view",{staticClass:"user-info"},[r("v-uni-text",{staticClass:"username"},[e._v(e._s(e.uname))])],1),r("v-uni-view",{staticClass:"function-list"},[r("v-uni-view",{staticClass:"list-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPasswordDialog=!0}}},[r("v-uni-text",{staticClass:"item-icon"},[e._v("🔒")]),r("v-uni-text",{staticClass:"item-text"},[e._v("修改密码")]),r("v-uni-text",{staticClass:"item-arrow"},[e._v("›")])],1),r("v-uni-view",{staticClass:"list-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showAbout.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"item-icon"},[e._v("ℹ️")]),r("v-uni-text",{staticClass:"item-text"},[e._v("关于我们")]),r("v-uni-text",{staticClass:"item-arrow"},[e._v("›")])],1),r("v-uni-view",{staticClass:"list-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleLogout.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"item-icon"},[e._v("🚪")]),r("v-uni-text",{staticClass:"item-text"},[e._v("退出登录")]),r("v-uni-text",{staticClass:"item-arrow"},[e._v("›")])],1)],1)],1)],1):e._e(),e.showPasswordDialog?r("v-uni-view",{staticClass:"password-dialog"},[r("v-uni-view",{staticClass:"dialog-content"},[r("v-uni-text",{staticClass:"dialog-title"},[e._v("修改密码")]),r("v-uni-input",{attrs:{type:"password",placeholder:"原密码"},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),r("v-uni-input",{attrs:{type:"password",placeholder:"新密码"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),r("v-uni-input",{attrs:{type:"password",placeholder:"确认新密码"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),r("v-uni-view",{staticClass:"dialog-buttons"},[r("v-uni-button",{staticClass:"confirm-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleChangePassword.apply(void 0,arguments)}}},[e._v("确认")]),r("v-uni-button",{staticClass:"cancel-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showPasswordDialog=!1}}},[e._v("取消")])],1)],1)],1):e._e()],1)],1)],1)},i=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}))},c2a5:function(e,t,n){"use strict";var r=n("ee27");n("4de4"),n("7db0"),n("4160"),n("caad"),n("b680"),n("d3b7"),n("acd8"),n("e25e"),n("ac1f"),n("2532"),n("5319"),n("1276"),n("2ca0"),n("498a"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=r(n("c964")),i={data:function(){return{isRecording:!1,recognition:null,searchText:"",finalTranscript:"",interimTranscript:"",currentLang:"zh-CN",synth:window.speechSynthesis,voices:[],isSpeechSupported:"webkitSpeechRecognition"in window&&window.speechSynthesis,audioStream:null,mediaRecorder:null,audioChunks:[],tabs:[{label:"主页",value:"sensors"},{label:"设备管理",value:"controls"},{label:"气象AI",value:"ai"},{label:"我的",value:"display"}],activeTab:"sensors",wp_code:"00",weatherDescription:"晴",weatherIcon:"☀️",wea_temperature:"25",temperature:0,humidity:0,gasLevel:0,fanSpeed:0,alarmMode:0,alarmActive:!1,fire_level:0,fanPresets:[{label:"关闭",value:0},{label:"低档",value:1},{label:"中档",value:2},{label:"高档",value:3}],alarmModes:["Off","On"],baseUrl:"/api",chatHistory:[],replyContent:"",reaContent:"",isStreaming:!1,errorMessage:"",userMessage:"",chatApi:"/chatapi",showPasswordDialog:!1,oldPassword:"",newPassword:"",confirmPassword:"",showAboutDialog:!1}},computed:{gasStatus:function(){return this.gasLevel<800?{status:"Safe",cssClass:"status-safe"}:this.gasLevel<1e3?{status:"Normal",cssClass:"status-normal"}:this.gasLevel<1500?{status:"Elevated",cssClass:"status-elevated"}:{status:"Danger",cssClass:"status-danger"}},fireStatus:function(){return 1==this.fireLevel?{status:"Danger",cssClass:"status-danger"}:{status:"Safe",cssClass:"status-safe"}},uname:function(){return uni.getStorageSync("uname")||"未登录"}},methods:{toggleRecording:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isRecording){t.next=5;break}return t.next=3,e.stopRecording();case 3:t.next=7;break;case 5:return t.next=7,e.startRecording();case 7:case"end":return t.stop()}}),t)})))()},startRecording:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isSpeechSupported){t.next=3;break}return e.errorMessage="当前浏览器不支持语音识别功能",t.abrupt("return");case 3:return t.prev=3,n="#JSGF V1.0; grammar commands; public <command> = 温度 | 湿度 | 风速 | 降水 | 刷新 | 切换语言 ;",r=new(window.webkitSpeechGrammarList||window.SpeechGrammarList),r.addFromString(n,1),e.recognition=new webkitSpeechRecognition,e.recognition.grammars=r,e.recognition.continuous=!0,e.recognition.interimResults=!0,e.recognition.lang=e.currentLang,e.recognition.maxAlternatives=3,e.recognition.onstart=function(){e.isRecording=!0,e.finalTranscript="",e.interimTranscript=""},e.synth.onvoiceschanged=function(){e.voices=e.synth.getVoices()},e.switchLanguage=function(t){e.currentLang=t,e.recognition.lang=t,e.$forceUpdate()},e.recognition.onresult=function(t){var n=t.results[0][0].transcript;e.handleVoiceCommand(n);var r=new SpeechSynthesisUtterance("已执行 ".concat(n));r.voice=e.voices.find((function(t){return t.lang===e.currentLang})),e.synth.speak(r);for(var a=t.resultIndex;a<t.results.length;++a)t.results[a].isFinal?(e.finalTranscript+=t.results[a][0].transcript,e.userMessage=e.finalTranscript):(e.interimTranscript=t.results[a][0].transcript,e.userMessage=e.interimTranscript)},e.recognition.onerror=function(t){e.errorMessage="语音识别错误: ".concat(t.error),e.stopRecording()},e.recognition.start(),t.next=21,navigator.mediaDevices.getUserMedia({audio:!0});case 21:e.audioStream=t.sent,t.next=28;break;case 24:t.prev=24,t.t0=t["catch"](3),e.errorMessage="麦克风访问失败: ".concat(t.t0.message),e.stopRecording();case 28:case"end":return t.stop()}}),t,null,[[3,24]])})))()},stopRecording:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.recognition&&(e.recognition.stop(),e.recognition=null),e.audioStream&&(e.audioStream.getTracks().forEach((function(e){return e.stop()})),e.audioStream=null),e.isRecording=!1,e.userMessage=e.finalTranscript;case 4:case"end":return t.stop()}}),t)})))()},switchTab:function(e){this.activeTab=e},onFanSliderChange:function(e){this.fanSpeed=e.detail.value},handleTest:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.alarmMode=0===e.fanSpeed?0:1,t.prev=1,n=e.baseUrl+"/api/devices/control-devices",r=uni.getStorageSync("token"),t.next=6,fetch(n,{method:"POST",headers:{"Content-Type":"application/json",token:r},body:JSON.stringify({speed:e.fanSpeed})});case 6:if(a=t.sent,a.ok){t.next=9;break}throw new Error("HTTP error! status: ".concat(a.status));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.errorMessage="请求失败: ".concat(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},handleChat:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,r,a,i,o,s,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.chatApi+"/api/application/chat_message/65ebd480-19bc-11f0-8561-0242ac110002",e.userMessage.trim()){t.next=5;break}return e.errorMessage="请输入有效问题",t.abrupt("return");case 5:return e.isStreaming=!0,e.replyContent="",e.reaContent="",t.next=10,fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"application-4eda6827510e8707027d68489902b172",Accept:"application/json"},body:JSON.stringify({message:e.userMessage,stream:!0})});case 10:if(r=t.sent,r.ok){t.next=13;break}throw new Error("HTTP error! status: ".concat(r.status));case 13:a=r.body.getReader(),i=new TextDecoder;case 15:return t.next=18,a.read();case 18:if(o=t.sent,s=o.done,c=o.value,!s){t.next=23;break}return t.abrupt("break",27);case 23:l=i.decode(c).split("\n\n").filter((function(e){return e.startsWith("data: ")})),l.forEach((function(t){try{var n=t.replace("data: ",""),r=JSON.parse(n);r.reasoning_content&&(e.reaContent+=e.unicodeToChs(r.reasoning_content)),r.content&&(e.replyContent+=e.unicodeToChs(r.content)),"##HARDWARE_MODIFY_TO_0##"==e.replyContent?(e.fanSpeed=0,e.alarmMode=0,e.replyContent="已传输并执行指令",e.handleTest()):"##HARDWARE_MODIFY_TO_1##"==e.replyContent?(e.fanSpeed=1,e.alarmMode=1,e.replyContent="已传输并执行指令",e.handleTest()):"##HARDWARE_MODIFY_TO_2##"==e.replyContent?(e.fanSpeed=2,e.alarmMode=1,e.replyContent="已传输并执行指令",e.handleTest()):"##HARDWARE_MODIFY_TO_3##"==e.replyContent&&(e.fanSpeed=3,e.alarmMode=1,e.replyContent="已传输并执行指令",e.handleTest())}catch(a){console.warn("数据解析异常:",a)}})),t.next=15;break;case 27:e.userMessage="",t.next=33;break;case 30:t.prev=30,t.t0=t["catch"](0),e.errorMessage="请求失败: ".concat(t.t0.message);case 33:return t.prev=33,e.isStreaming=!1,t.finish(33);case 36:case"end":return t.stop()}}),t,null,[[0,30,33,36]])})))()},fetchSensorData:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.baseUrl+"/dataselect",r=uni.getStorageSync("token"),t.prev=2,t.next=5,fetch(n,{headers:{token:r}});case 5:if(a=t.sent,a.ok){t.next=8;break}throw new Error("HTTP error! status: ".concat(a.status));case 8:return t.next=10,a.json();case 10:i=t.sent,o=i[0]||{},e.temperature=parseFloat((o.temp||0).toFixed(1)),e.humidity=parseFloat((o.hum||0).toFixed(1)),e.gasLevel=parseFloat((o.gas||0).toFixed(1)),e.fanSpeed=o.fan_level||0,e.fireLevel=o.fire_state||0,e.alarmActive=1===o.final_stat,e.alarmMode=e.alarmActive?1:0,t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](2),console.error("传感器数据获取失败:",t.t0);case 24:case"end":return t.stop()}}),t,null,[[2,21]])})))()},fetchWeatherData:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.open.geovisearth.com/v2/cn/area/basic?token=db2ed5ebf3c2e774be86874508811472&location=WTX_CH101040800");case 3:if(n=t.sent,n.ok){t.next=6;break}throw new Error("HTTP error! status: ".concat(n.status));case 6:return t.next=8,n.json();case 8:r=t.sent,e.weatherDescription=r.result.wp,e.wp_code=r.result.wp_code,e.wea_temperature=r.result.tem,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.error("天气数据获取失败:",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},unicodeToChs:function(e){return e.replace(/\\u([\d\w]{4})/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))},handleVoiceCommand:function(e){var t=this;console.log("语音识别结果:",e),this.searchText=e,this.$nextTick((function(){console.log("当前输入框值:",t.searchText)}))},handleChangePassword:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newPassword===e.confirmPassword){t.next=3;break}return uni.showToast({title:"新密码不一致",icon:"none"}),t.abrupt("return");case 3:return t.prev=3,n=e.baseUrl+"/user/password",r=uni.getStorageSync("token"),t.next=8,fetch(n,{method:"POST",headers:{"Content-Type":"application/json",token:r},body:JSON.stringify({uname:uni.getStorageSync("uname"),oldPassword:e.oldPassword.trim(),newPassword:e.newPassword.trim()})});case 8:return a=t.sent,t.next=11,a.json();case 11:if(i=t.sent,console.log("[DEBUG] 修改密码响应:",i),a.ok){t.next=15;break}throw new Error(i.msg||"请求失败: ".concat(a.status));case 15:if(403!==i.code){t.next=17;break}throw new Error(i.msg||"验证失败：请检查用户名和旧密码");case 17:if(203===i.code){t.next=19;break}throw new Error(i.msg||"未知错误");case 19:uni.showToast({title:"密码修改成功"}),uni.removeStorageSync("token"),uni.removeStorageSync("uname"),uni.reLaunch({url:"/pages/login/login"}),t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](3),console.error("[ERROR] 密码修改失败:",t.t0),uni.showToast({title:t.t0.message.includes("网络")?"服务器连接异常":t.t0.message,icon:"none"});case 29:case"end":return t.stop()}}),t,null,[[3,25]])})))()},showAbout:function(){uni.showModal({title:"关于我们",content:"环境监测气象站系统\n版本: 1.0.0\n开发团队: 气象监测组",showCancel:!1})},handleLogout:function(){uni.showModal({title:"提示",content:"确定要退出登录吗？",success:function(e){e.confirm&&uni.reLaunch({url:"/pages/login/login"})}})}},mounted:function(){var e=this;this.fetchWeatherData(),this.fetchSensorData(),this.timer=setInterval((function(){e.fetchSensorData()}),2e3)},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}};t.default=i},c964:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));n("d3b7"),n("e6cf");function r(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,c,"next",e)}function c(e){r(o,a,i,s,c,"throw",e)}s(void 0)}))}}},d5c6:function(e,t,n){"use strict";n.r(t);var r=n("c2a5"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},eddf:function(e,t,n){"use strict";n.r(t);var r=n("b80c"),a=n("d5c6");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("b585");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"0eb6ce92",null,!1,r["a"],o);t["default"]=c.exports}}]);